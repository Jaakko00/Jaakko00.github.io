{"ast":null,"code":"import _slicedToArray from\"/Users/jaakko/JaakkoSaranpaa.fi/Jaakko00.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Button,Form,Offcanvas,Navbar,Container,Nav}from\"react-bootstrap\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var filter=require(\"leo-profanity\");function PostForm(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),content=_useState2[0],setContent=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),sender=_useState4[0],setSender=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),title=_useState6[0],setTitle=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),password=_useState8[0],setPassword=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),disabled=_useState10[0],setDisabled=_useState10[1];/** onChangeContent sets the state of content with given value */var onChangeContent=function onChangeContent(e){setContent(e.currentTarget.value);};/** onChangeSender sets the state of content with given value */var onChangeSender=function onChangeSender(e){setSender(e.currentTarget.value);};/** onChangeTitle sets the state of content with given value */var onChangeTitle=function onChangeTitle(e){setTitle(e.currentTarget.value);};/** onChangePassword sets the state of password with given value */var onChangePassword=function onChangePassword(e){setPassword(e.currentTarget.value);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Navbar,{bg:\"light\",expand:false,children:/*#__PURE__*/_jsxs(Container,{fluid:true,children:[/*#__PURE__*/_jsx(Navbar.Brand,{className:\"display-1\",children:\"Bullet-in-Board\"}),/*#__PURE__*/_jsxs(Form,{className:\"d-flex\",style:{width:\"20rem\"},children:[/*#__PURE__*/_jsx(Nav.Link,{disabled:true,children:\"Admin\"}),/*#__PURE__*/_jsx(Form.Control,{className:\"me-2\",type:\"password\",value:password,placeholder:\"Password\",onChange:onChangePassword,disabled:disabled}),/*#__PURE__*/_jsxs(Button,{onClick:function onClick(){if(password===\"admin\"||props.showDeleteButton()===\"visible\"){props.showDelete();setPassword(\"\");setDisabled(false);}if(password===\"admin\"&&props.showDeleteButton()===\"invisible\"){setDisabled(true);}},children:[props.showDeleteButton()===\"invisible\"&&\"Login\",props.showDeleteButton()===\"visible\"&&\"Logout\"]})]}),/*#__PURE__*/_jsx(Navbar.Toggle,{children:\"New post\"}),/*#__PURE__*/_jsxs(Navbar.Offcanvas,{id:\"offcanvasNavbar\",\"aria-labelledby\":\"offcanvasNavbarLabel\",placement:\"end\",style:{width:\"35rem\"},scroll:true,backdrop:false,children:[/*#__PURE__*/_jsx(Offcanvas.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Offcanvas.Title,{id:\"offcanvasNavbarLabel\",children:\"New post\"})}),/*#__PURE__*/_jsxs(Offcanvas.Body,{children:[/*#__PURE__*/_jsx(Form,{className:\"m-2\",style:{width:\"10rem\"},children:/*#__PURE__*/_jsx(Form.Control,{className:\"mb-3\",type:\"text\",placeholder:\"Title\",value:title,onChange:onChangeTitle})}),/*#__PURE__*/_jsx(Form,{className:\"m-2\",style:{width:\"30rem\"},children:/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",rows:3,placeholder:\"Text\",value:content,onChange:onChangeContent})}),/*#__PURE__*/_jsx(Form,{className:\"m-2\",style:{width:\"10rem\"},children:/*#__PURE__*/_jsx(Form.Control,{className:\"mb-3\",type:\"text\",placeholder:\"From\",value:sender,onChange:onChangeSender})}),/*#__PURE__*/_jsx(Button,{className:\"m-2\",variant:\"primary\",type:\"submit\",onClick:function onClick(){if(content.length&&title.length){props.post(//filter.clean filters all profanity of a given string\nfilter.clean(content),filter.clean(sender),filter.clean(title))//After posting, the state is emptied to avoid doubleposting\n.then(setContent(\"\")).then(setSender(\"\")).then(setTitle(\"\"));}},children:\"Submit\"})]})]})]})})});}export default PostForm;","map":{"version":3,"sources":["/Users/jaakko/JaakkoSaranpaa.fi/Jaakko00.github.io/src/PostForm.jsx"],"names":["React","useState","Button","Form","Offcanvas","Navbar","Container","Nav","filter","require","PostForm","props","content","setContent","sender","setSender","title","setTitle","password","setPassword","disabled","setDisabled","onChangeContent","e","currentTarget","value","onChangeSender","onChangeTitle","onChangePassword","width","showDeleteButton","showDelete","length","post","clean","then"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport {\n  Button,\n  Form,\n  Offcanvas,\n  Navbar,\n  Container,\n  Nav,\n} from \"react-bootstrap\";\n\nvar filter = require(\"leo-profanity\");\n\nfunction PostForm(props) {\n  const [content, setContent] = useState(\"\");\n  const [sender, setSender] = useState(\"\");\n  const [title, setTitle] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [disabled, setDisabled] = useState(\"\");\n\n  /** onChangeContent sets the state of content with given value */\n  const onChangeContent = (e) => {\n    setContent(e.currentTarget.value);\n  };\n\n  /** onChangeSender sets the state of content with given value */\n  const onChangeSender = (e) => {\n    setSender(e.currentTarget.value);\n  };\n\n  /** onChangeTitle sets the state of content with given value */\n  const onChangeTitle = (e) => {\n    setTitle(e.currentTarget.value);\n  };\n\n  /** onChangePassword sets the state of password with given value */\n  const onChangePassword = (e) => {\n    setPassword(e.currentTarget.value);\n  };\n\n  return (\n    <>\n      <Navbar bg=\"light\" expand={false}>\n        <Container fluid>\n          <Navbar.Brand className=\"display-1\">\n            Bullet-in-Board\n          </Navbar.Brand>\n\n          <Form className=\"d-flex\" style={{ width: \"20rem\" }}>\n            <Nav.Link disabled>Admin</Nav.Link>\n            <Form.Control\n              className=\"me-2\"\n              type=\"password\"\n              value={password}\n              placeholder=\"Password\"\n              onChange={onChangePassword}\n              disabled={disabled}\n            />\n            <Button\n              onClick={() => {\n                if (\n                  password === \"admin\" ||\n                  props.showDeleteButton() === \"visible\"\n                ) {\n                  props.showDelete();\n                  setPassword(\"\");\n                  setDisabled(false);\n                }\n                if (\n                  password === \"admin\" &&\n                  props.showDeleteButton() === \"invisible\"\n                ) {\n                  setDisabled(true);\n                }\n              }}\n            >\n              {props.showDeleteButton() === \"invisible\" && \"Login\"}\n              {props.showDeleteButton() === \"visible\" && \"Logout\"}\n            </Button>\n          </Form>\n\n          <Navbar.Toggle>New post</Navbar.Toggle>\n          <Navbar.Offcanvas\n            id=\"offcanvasNavbar\"\n            aria-labelledby=\"offcanvasNavbarLabel\"\n            placement=\"end\"\n            style={{ width: \"35rem\" }}\n            scroll={true}\n            backdrop={false}\n          >\n            <Offcanvas.Header closeButton>\n              <Offcanvas.Title id=\"offcanvasNavbarLabel\">\n                New post\n              </Offcanvas.Title>\n            </Offcanvas.Header>\n            <Offcanvas.Body>\n              <Form className=\"m-2\" style={{ width: \"10rem\" }}>\n                <Form.Control\n                  className=\"mb-3\"\n                  type=\"text\"\n                  placeholder=\"Title\"\n                  value={title}\n                  onChange={onChangeTitle}\n                />\n              </Form>\n\n              <Form className=\"m-2\" style={{ width: \"30rem\" }}>\n                <Form.Control\n                  as=\"textarea\"\n                  rows={3}\n                  placeholder=\"Text\"\n                  value={content}\n                  onChange={onChangeContent}\n                />\n              </Form>\n\n              <Form className=\"m-2\" style={{ width: \"10rem\" }}>\n                <Form.Control\n                  className=\"mb-3\"\n                  type=\"text\"\n                  placeholder=\"From\"\n                  value={sender}\n                  onChange={onChangeSender}\n                />\n              </Form>\n\n              <Button\n                className=\"m-2\"\n                variant=\"primary\"\n                type=\"submit\"\n                onClick={() => {\n                  if (content.length && title.length) {\n                    props\n                      .post(\n                        //filter.clean filters all profanity of a given string\n                        filter.clean(content),\n                        filter.clean(sender),\n                        filter.clean(title)\n                      )\n                      //After posting, the state is emptied to avoid doubleposting\n                      .then(setContent(\"\"))\n                      .then(setSender(\"\"))\n                      .then(setTitle(\"\"));\n                  }\n                }}\n              >\n                Submit\n              </Button>\n            </Offcanvas.Body>\n          </Navbar.Offcanvas>\n        </Container>\n      </Navbar>\n    </>\n  );\n}\n\nexport default PostForm;\n"]},"metadata":{},"sourceType":"module"}